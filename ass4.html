<html>

<head>
    <title> Fill Details </title>
</head>
<style>
    form{
        width: 600px;
        margin: 200px auto;

    }
    div{
        width: 100px;
        margin: 15px auto;
    }
    button
    {
        width: 90;
        margin: auto;

    }
   
</style>

<body>
    <form name="form1" style="display: flex; flex-direction: column; justify-items: center; margin-top: 100px;">
        <div class="name">
            <label> Name : </label> 
            <input id="name" type="text" placeholder="Enter name">
            <span></span>
        </div>
            
        <div class="email">
            <label> Email ID :</label>
             <input id="email" type="email" placeholder="Enter Mail">
             <span></span>
        </div>
        
        <button type="submit" onclick="addsession()">Submit</button>
        <button style="margin: 10px auto ;" type="button" onclick="show()">Show User</button>
    

        <div id="show" style="margin: 50px auto; width: 400px;">


        </div>
        

    </form>


   
</body>

<script>
    
    const addsession = () => {
        let newobj = new Object();
        let date = new Date();
        newobj.time = date.toLocaleString();
        newobj.name = document.getElementById('name').value;
        newobj.email = document.getElementById('email').value;
        
        if(!newobj.name || !newobj.email)
        {
            return;
        }
        
        if (sessionStorage.data) {
            data = JSON.parse(sessionStorage.getItem('data'));
        }
        else {
            data = [];
        }

        data.push(newobj);

        sessionStorage.setItem('data', JSON.stringify(data));

        let retrivedata = sessionStorage.getItem('data');

       
        

    }


    const show = () =>{
    
                let retrive = sessionStorage.getItem("data");
                retrive = JSON.parse(retrive);
       
                let main = document.getElementById("show");

         
                retrive.map((item)=>{
                    var newli = document.createElement("li");
                    newli.setAttribute("style","margin: 30px auto");

                    newli.innerHTML = `Time : ${item.time} , User : ${item.name} , Email: ${item.email}`;

                    main.appendChild(newli);

                })
        
        

    }
</script>
</html>
